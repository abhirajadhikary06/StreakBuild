{% extends 'tracker/base.html' %}
{% load custom_filters %}

{% block content %}
<h1>Dashboard</h1>

<!-- Uploaded Images -->
<h2>Uploaded Images</h2>
{% if uploads %}
    <div>
        {% for upload in uploads %}
            <div style="margin-bottom: 20px;">
                <img src="{{ upload.image.url }}" alt="Uploaded Image" width="200">
                <p><strong>Tag:</strong> {{ upload.challenge.name }}</p>
                <form method="POST" action="{% url 'delete_image' upload.id %}" style="display: inline;">
                    {% csrf_token %}
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this image?')">Delete</button>
                </form>
            </div>
        {% endfor %}
    </div>
{% else %}
    <p>No images uploaded yet.</p>
{% endif %}

<a href="{% url 'upload_image' %}">Upload Image</a>
{% endblock %}

<script>
    function toggleNotifications() {
        const dropdown = document.getElementById('notifications-dropdown');
        dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
    }
</script>